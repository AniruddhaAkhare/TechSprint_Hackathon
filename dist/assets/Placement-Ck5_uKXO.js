import{r as h,j as t,L as u,q as j,e as b,b as c,w as i,c as m,g as A,d as D,y as w}from"./index-D_3nfyX1.js";const T=({studentId:o})=>{const[n,f]=h.useState([]);return h.useEffect(()=>{o&&(async()=>{try{const r=j(b(c,"Placements"),i("studentId","==",o)),N=await m(r),g=await Promise.all(N.docs.map(async x=>{var y;const s={id:x.id,...x.data()};let a={};try{const l=await A(D(c,"JobOpenings",s.jobId));l.exists()?a=l.data():console.warn(`Job with ID ${s.jobId} not found`)}catch(l){console.error(`Error fetching job ${s.jobId}:`,l)}let d={};try{const l=j(b(c,"Applications"),i("studentId","==",o),i("jobId","==",s.jobId)),p=await m(l);p.empty?console.warn(`Application for student ${o} and job ${s.jobId} not found`):d=p.docs[0].data()}catch(l){console.error(`Error fetching application for job ${s.jobId}:`,l)}return{...s,jobTitle:a.title||"N/A",companyName:a.companyName||"N/A",skills:Array.isArray(a.skills)?a.skills.join(", "):"N/A",city:a.city||"N/A",jobType:a.jobType||"N/A",deadline:((y=a.deadline)==null?void 0:y.toDate())||"N/A",salary:a.salary||"N/A",createdAt:d.createdAt||s.createdAt||null}}));f(g)}catch(r){console.error("Error fetching placements:",r),w.error("Failed to fetch placements.")}})()},[o]),t.jsxs(t.Fragment,{children:[t.jsx(u,{position:"top-right",autoClose:3e3}),t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full table-auto",children:[t.jsx("thead",{className:"bg-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-base font-semibold text-gray-700",children:"Job Title"}),t.jsx("th",{className:"px-4 py-3 text-left text-base font-semibold text-gray-700",children:"Company"}),t.jsx("th",{className:"px-4 py-3 text-left text-base font-semibold text-gray-700",children:"Skills"}),t.jsx("th",{className:"px-4 py-3 text-left text-base font-semibold text-gray-700",children:"Salary"}),t.jsx("th",{className:"px-4 py-3 text-left text-base font-semibold text-gray-700",children:"Job Type"}),t.jsx("th",{className:"px-4 py-3 text-left text-base font-semibold text-gray-700",children:"Deadline"}),t.jsx("th",{className:"px-4 py-3 text-left text-base font-semibold text-gray-700",children:"City"}),t.jsx("th",{className:"px-4 py-3 text-left text-base font-semibold text-gray-700",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-base font-semibold text-gray-700",children:"Created At"})]})}),t.jsxs("tbody",{children:[n.map(e=>{var r;return t.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[t.jsx("td",{className:"px-4 py-3 text-gray-800",children:e.jobTitle}),t.jsx("td",{className:"px-4 py-3 text-gray-800",children:e.companyName}),t.jsx("td",{className:"px-4 py-3 text-gray-800",children:e.skills}),t.jsx("td",{className:"px-4 py-3 text-gray-800",children:e.salary}),t.jsx("td",{className:"px-4 py-3 text-gray-800",children:e.jobType}),t.jsx("td",{className:"px-4 py-3 text-gray-800",children:e.deadline instanceof Date?e.deadline.toLocaleDateString():"N/A"}),t.jsx("td",{className:"px-4 py-3 text-gray-800",children:e.city}),t.jsx("td",{className:"px-4 py-3 text-gray-800",children:e.status}),t.jsx("td",{className:"px-4 py-3 text-gray-800",children:(r=e.createdAt)!=null&&r.toDate?e.createdAt.toDate().toLocaleDateString():"N/A"})]},e.id)}),n.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:"9",className:"px-4 py-3 text-gray-500 text-center",children:"No placements found for this student."})})]})]})})})]})};export{T as default};
//# sourceMappingURL=Placement-Ck5_uKXO.js.map
