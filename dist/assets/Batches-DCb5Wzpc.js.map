{"version":3,"file":"Batches-DCb5Wzpc.js","sources":["../../src/StudentInformation/Batches.jsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { collection, getDocs, doc, getDoc, query, where } from \"firebase/firestore\";\r\nimport { db } from \"../config/firebase\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nconst Batches = () => {\r\n    const { studentId } = useParams();\r\n    const { user } = useAuth();\r\n    const [batches, setBatches] = useState([]);\r\n    const [centers, setCenters] = useState([]);\r\n    const [courses, setCourses] = useState([]);\r\n    const [instructors, setInstructors] = useState([]);\r\n    const [curriculum, setCurriculum] = useState([]);\r\n    const [assessments, setAssessments] = useState({});\r\n    const [expandedBatch, setExpandedBatch] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [instituteId, setInstituteId] = useState();\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            if (!user) {\r\n                return;\r\n            }\r\n\r\n            try {\r\n                // Fetch user data and institute ID\r\n                const userDocRef = doc(db, 'Users', user.uid);\r\n                const userDoc = await getDoc(userDocRef);\r\n\r\n                if (userDoc.exists()) {\r\n                    const data = userDoc.data();\r\n                    const institute = \"RDJ9wMXGrIUk221MzDxP\";\r\n                    if (institute) {\r\n                        setInstituteId(institute);\r\n                    } else {\r\n                        toast.error(\"Institute ID not found in user document\", { toastId: \"institute-error\" });\r\n                    }\r\n                } else {\r\n                    toast.error(\"User data not found\", { toastId: \"user-error\" });\r\n                }\r\n            } catch (err) {\r\n                toast.error(`Failed to fetch data: ${err.message}`, { toastId: \"data-error\" });\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [user]);\r\n\r\n    useEffect(() => {\r\n        if (!user) {\r\n            toast.error(\"Please log in to view batches\", { toastId: \"auth-error\" });\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        if (!studentId) {\r\n            toast.error(\"Invalid student ID\", { toastId: \"student-id-error\" });\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        const fetchData = async () => {\r\n            setLoading(true);\r\n            try {\r\n                if (!instituteId) {\r\n                    throw new Error(\"No institute ID found for the user\");\r\n                }\r\n                await Promise.all([\r\n                    fetchBatches(instituteId),\r\n                    fetchCenters(instituteId),\r\n                    fetchCourses(),\r\n                    fetchInstructors(),\r\n                    fetchCurriculum(),\r\n                ]);\r\n            } catch (error) {\r\n                toast.error(`Failed to load data: ${error.message}`, { toastId: \"data-error\" });\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [studentId, user, instituteId]);\r\n\r\n    const getInstituteId = async () => {\r\n        if (!user || !user.uid) {\r\n            toast.error(\"User not authenticated\", { toastId: \"user-auth-error\" });\r\n            return null;\r\n        }\r\n        try {\r\n            const userDocRef = doc(db, \"Users\", user.uid);\r\n            const userDoc = await getDoc(userDocRef);\r\n            if (userDoc.exists()) {\r\n                const instituteId = userDoc.data().instituteId;\r\n                return instituteId || null;\r\n            }\r\n            toast.error(\"User profile not found\", { toastId: \"user-profile-error\" });\r\n            return null;\r\n        } catch (error) {\r\n            toast.error(\"Failed to fetch institute information\", { toastId: \"institute-error\" });\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const fetchBatches = async (instituteId) => {\r\n        try {\r\n            // Fetch batches where the studentId is in the students array\r\n            const batchSnapshot = await getDocs(collection(db, \"Batch\"));\r\n            const batchList = batchSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n            const studentBatches = batchList.filter(batch =>\r\n                batch.students && batch.students.includes(studentId)\r\n            );\r\n            setBatches(studentBatches);\r\n\r\n            // Fetch assessments for each student batch\r\n            const assessmentsData = {};\r\n            for (const batch of studentBatches) {\r\n                const assessmentsQuery = query(\r\n                    collection(db, `Batch/${batch.id}/assessments`),\r\n                    where(\"studentId\", \"==\", studentId)\r\n                );\r\n                const assessmentsSnapshot = await getDocs(assessmentsQuery);\r\n                assessmentsData[batch.id] = assessmentsSnapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    ...doc.data(),\r\n                }));\r\n            }\r\n            setAssessments(assessmentsData);\r\n        } catch (error) {\r\n            toast.error(`Failed to fetch batches or assessments: ${error.message}`, { toastId: \"batches-error\" });\r\n        }\r\n    };\r\n\r\n    const fetchCenters = async (instituteId) => {\r\n        try {\r\n            const snapshot = await getDocs(\r\n                collection(db, `instituteSetup/${instituteId}/Center`)\r\n            );\r\n            const centersList = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n            setCenters(centersList);\r\n        } catch (error) {\r\n            toast.error(\"Failed to fetch centers\", { toastId: \"centers-error\" });\r\n        }\r\n    };\r\n\r\n    const fetchCourses = async () => {\r\n        try {\r\n            const snapshot = await getDocs(collection(db, \"Course\"));\r\n            const coursesList = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n            setCourses(coursesList);\r\n        } catch (error) {\r\n            toast.error(\"Failed to fetch courses\", { toastId: \"courses-error\" });\r\n        }\r\n    };\r\n\r\n    const fetchInstructors = async () => {\r\n        try {\r\n            const snapshot = await getDocs(collection(db, \"Users\"));\r\n            const instructorsList = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n            setInstructors(instructorsList);\r\n        } catch (error) {\r\n            toast.error(\"Failed to fetch instructors\", { toastId: \"instructors-error\" });\r\n        }\r\n    };\r\n\r\n    const fetchCurriculum = async () => {\r\n        try {\r\n            const snapshot = await getDocs(collection(db, \"curriculums\"));\r\n            const curriculumList = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n            setCurriculum(curriculumList);\r\n        } catch (error) {\r\n            toast.error(\"Failed to fetch curriculum\", { toastId: \"curriculum-error\" });\r\n        }\r\n    };\r\n\r\n    const getNameFromId = (id, collection) => {\r\n        if (!id || !collection) return \"Unknown\";\r\n        const item = collection.find(item => item.id === id);\r\n        return item ? item.name || item.f_name || item.firstName || \"Unknown\" : \"Unknown\";\r\n    };\r\n\r\n    const formatDate = (timestamp) => {\r\n        if (!timestamp) return \"N/A\";\r\n        try {\r\n            const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\r\n            return date.toLocaleDateString(\"en-US\", {\r\n                year: \"numeric\",\r\n                month: \"short\",\r\n                day: \"numeric\",\r\n            });\r\n        } catch (error) {\r\n            console.warn(\"Error formatting date:\", error);\r\n            return \"Invalid Date\";\r\n        }\r\n    };\r\n\r\n    const formatInputDate = (timestamp) => {\r\n        if (!timestamp) return \"\";\r\n        try {\r\n            const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\r\n            return date.toISOString().split(\"T\")[0];\r\n        } catch (error) {\r\n            console.warn(\"Error formatting input date:\", error);\r\n            return \"\";\r\n        }\r\n    };\r\n\r\n    const toggleAccordion = (batchId) => {\r\n        setExpandedBatch(expandedBatch === batchId ? null : batchId);\r\n    };\r\n\r\n    if (!user) {\r\n        return (\r\n            <div className=\"p-4 text-center\">\r\n                <p className=\"text-red-600\">Please log in to view your batches.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"p-4 text-center\">\r\n                <p className=\"text-gray-600\">Loading batches...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-4\">\r\n            <ToastContainer position=\"top-right\" autoClose={3000} limit={3} />\r\n            {batches.length === 0 ? (\r\n                <div className=\"bg-white rounded-lg shadow-md p-4 text-center\">\r\n                    <p className=\"text-gray-600\">You are not enrolled in any batches. (Student ID: {studentId})</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"bg-white rounded-lg shadow-md\">\r\n                    <table className=\"w-full border-collapse\">\r\n                        <thead>\r\n                            <tr className=\"bg-gray-100\">\r\n                                <th className=\"p-3 text-sm font-medium text-gray-600 text-left\">Batch Name</th>\r\n                                <th className=\"p-3 text-sm font-medium text-gray-600 text-left\">Start Date</th>\r\n                                <th className=\"p-3 text-sm font-medium text-gray-600 text-left\">End Date</th>\r\n                                <th className=\"p-3 text-sm font-medium text-gray-600 text-left\">Status</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {batches.map(batch => (\r\n                                <Fragment key={batch.id}>\r\n                                    <tr\r\n                                        className=\"border-b hover:bg-gray-50 cursor-pointer hover:text-blue-500 transition-colors duration-200\"\r\n                                        onClick={() => toggleAccordion(batch.id)}\r\n                                        onKeyDown={(e) => e.key === \"Enter\" && toggleAccordion(batch.id)}\r\n                                        role=\"button\"\r\n                                        tabIndex={0}\r\n                                        aria-expanded={expandedBatch === batch.id}\r\n                                        aria-controls={`accordion-${batch.id}`}\r\n                                        aria-label={`Toggle details for ${batch.batchName || \"Unnamed Batch\"}`}\r\n                                    >\r\n                                        <td className=\"p-3 text-gray-700\">{batch.batchName || \"Unnamed Batch\"}</td>\r\n                                        <td className=\"p-3 text-gray-700\">{formatDate(batch.startDate)}</td>\r\n                                        <td className=\"p-3 text-gray-700\">{formatDate(batch.endDate)}</td>\r\n                                        <td className=\"p-3 text-gray-700\">{batch.status || \"Unknown\"}</td>\r\n                                    </tr>\r\n                                    {expandedBatch === batch.id && (\r\n                                        <tr id={`accordion-${batch.id}`}>\r\n                                            <td colSpan=\"4\" className=\"p-4 bg-gray-50\">\r\n                                                <div className=\"space-y-4\">\r\n                                                    {/* Batch Details */}\r\n                                                    <div>\r\n                                                        <h3 className=\"text-lg font-medium text-gray-700\">Batch Information</h3>\r\n                                                        <p><strong>Centers:</strong> {(batch.centers || []).map(id => getNameFromId(id, centers)).join(\", \") || \"N/A\"}</p>\r\n                                                        <p><strong>Courses:</strong> {(batch.courses || []).map(id => getNameFromId(id, courses)).join(\", \") || \"N/A\"}</p>\r\n                                                        <p><strong>Curriculum:</strong> {(batch.curriculum || []).map(id => getNameFromId(id, curriculum)).join(\", \") || \"N/A\"}</p>\r\n                                                        <p><strong>Batch Manager:</strong> {(batch.batchManager || []).map(id => getNameFromId(id, instructors)).join(\", \") || \"N/A\"}</p>\r\n                                                        <p><strong>Batch Faculty:</strong> {(batch.batchFaculty || []).map(id => getNameFromId(id, instructors)).join(\", \") || \"N/A\"}</p>\r\n                                                        <p><strong>Created At:</strong> {formatDate(batch.createdAt)}</p>\r\n                                                    </div>\r\n\r\n                                                    {/* Assessment Section */}\r\n                                                    <div>\r\n                                                        <h3 className=\"text-lg font-medium text-gray-700 mb-2\">Assessments</h3>\r\n                                                        {!(assessments[batch.id]?.length > 0) ? (\r\n                                                            <p className=\"text-gray-600\">No assessments available for this batch.</p>\r\n                                                        ) : (\r\n                                                            <table className=\"w-full border-collapse\">\r\n                                                                <thead>\r\n                                                                    <tr className=\"bg-gray-200\">\r\n                                                                        <th className=\"p-2 text-sm font-medium text-gray-600 text-left\">Marks Obtained</th>\r\n                                                                        <th className=\"p-2 text-sm font-medium text-gray-600 text-left\">Total Marks</th>\r\n                                                                        <th className=\"p-2 text-sm font-medium text-gray-600 text-left\">Date</th>\r\n                                                                        <th className=\"p-2 text-sm font-medium text-gray-600 text-left\">Type</th>\r\n                                                                    </tr>\r\n                                                                </thead>\r\n                                                                <tbody>\r\n                                                                    {(assessments[batch.id] || []).map(assessment => (\r\n                                                                        <tr key={assessment.id} className=\"border-b\">\r\n                                                                            <td className=\"p-2 text-gray-700\">\r\n                                                                                <span>{assessment.marksObtained ?? \"N/A\"}</span>\r\n                                                                            </td>\r\n                                                                            <td className=\"p-2 text-gray-700\">\r\n                                                                                <span>{assessment.totalMarks ?? \"N/A\"}</span>\r\n                                                                            </td>\r\n                                                                            <td className=\"p-2 text-gray-700\">\r\n                                                                                <span>{formatDate(assessment.date)}</span>\r\n                                                                            </td>\r\n                                                                            <td className=\"p-2 text-gray-700\">\r\n                                                                                <span>{assessment.type || \"N/A\"}</span>\r\n                                                                            </td>\r\n                                                                        </tr>\r\n                                                                    ))}\r\n                                                                </tbody>\r\n                                                            </table>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )}\r\n                                </Fragment>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Batches;"],"names":["Batches","studentId","useParams","user","useAuth","batches","setBatches","useState","centers","setCenters","courses","setCourses","instructors","setInstructors","curriculum","setCurriculum","assessments","setAssessments","expandedBatch","setExpandedBatch","loading","setLoading","instituteId","setInstituteId","useEffect","userDocRef","doc","db","userDoc","getDoc","data","institute","toast","err","fetchBatches","fetchCenters","fetchCourses","fetchInstructors","fetchCurriculum","error","studentBatches","getDocs","collection","batch","assessmentsData","assessmentsQuery","query","where","assessmentsSnapshot","centersList","coursesList","instructorsList","curriculumList","getNameFromId","id","item","formatDate","timestamp","toggleAccordion","batchId","jsx","jsxs","ToastContainer","Fragment","e","_a","assessment"],"mappings":"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"}